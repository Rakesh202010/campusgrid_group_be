// This is your Prisma schema file for Admin Database
// Learn more: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL_ADMIN")
}

generator client {
  provider = "prisma-client-js"
}

model SchoolGroup {
  id                         String   @id @default(uuid())
  groupName                  String
  displayName                String
  organizationType           String // Trust, Society, Private Limited, Government, University, NGO
  affiliatedBoards           String[] // CBSE, ICSE, State Board, etc.
  establishedYear            Int
  noOfSchools                Int?
  registrationNumber         String
  registrationCertificateUrl String?
  logoUrl                    String?
  domainName                 String
  subdomain                  String   @unique
  planType                   String // Free, Standard, Enterprise
  paymentMode                String // Online, Invoice, UPI, NEFT

  // Contact & Address Details
  contactPerson     String
  contactEmail      String
  contactPhone      String
  altPhone          String?
  addressLine1      String
  addressLine2      String?
  city              String
  state             String
  pincode           String
  country           String  @default("India")
  timezone          String  @default("Asia/Kolkata")
  preferredLanguage String  @default("English")

  // Compliance & Finance
  panNumber         String
  gstNumber         String
  bankName          String
  accountHolderName String
  accountNumber     String
  ifscCode          String
  billingEmail      String

  // Database Information
  dbName     String @unique
  dbHost     String
  dbUser     String
  dbPassword String

  // System Metadata
  status  String  @default("Pending") // Pending, Active, Suspended
  remarks String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([subdomain])
  @@index([status])
  @@index([createdAt])
}
